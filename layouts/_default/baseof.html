{{- /* Set some variables */ -}}
{{- /* cSpell:ignore nojs, toplevelclass, bodyclass, omitbodywrapper, bodywrapperclass, hidepageheader, bodyheaderclass, bodyafterheaderclass */ -}}
{{- $topLevelClass := "nojs" -}}
{{- if isset site.Params "toplevelclass" -}}
	{{- $topLevelClass = site.Params.topLevelClass -}}
	{{- if isset .Page.Params "toplevelclass" -}}
		{{- $topLevelClass = .Page.Params.topLevelClass -}}
	{{- end -}}
{{- end }}
{{- $bodyClass := "" -}}
{{- if isset site.Params "bodyclass" -}}
	{{- $bodyClass = site.Params.bodyClass -}}
	{{- if isset .Page.Params "bodyClass" -}}
		{{- $bodyClass = .Page.Params.bodyClass -}}
	{{- end -}}
{{- end -}}
{{- $omitBodyWrapper := false -}}
{{- if isset site.Params "omitbodywrapper" -}}
	{{- $omitBodyWrapper = site.Params.omitBodyWrapper -}}
	{{- if isset .Page.Params "omitbodywrapper" -}}
		{{- $omitBodyWrapper = .Page.Params.omitBodyWrapper -}}
	{{- end -}}
{{- end -}}
{{- $bodyWrapperClass := "" -}}
{{- if isset site.Params "bodywrapperclass" -}}
	{{- $bodyWrapperClass = site.Params.bodyWrapperClass -}}
	{{- if isset .Page.Params "bodywrapperclass" -}}
		{{- $bodyWrapperClass = .Page.Params.bodyWrapperClass -}}
	{{- end -}}
{{- end -}}
{{- if templates.Exists "partials/above-html-setup.html" -}}
	{{- partial "above-html-setup.html" . -}}
{{- end }}
{{- /* The actual page; nothing should be emitted as page output before this
		(warnf and errorf are okay).
*/ -}}
<!DOCTYPE html>
<html {{ with $topLevelClass }}class="{{ . }}"{{ end }} lang="{{ $.Site.Language.Lang }}" dir="{{ site.Language.LanguageDirection | default "ltr" }}">
{{- if templates.Exists "partials/head.html" -}}
	{{- warnf "This theme does not use 'partials/head.html'. Please review your layouts." -}}
{{- end -}}
{{- block "head-meta" . -}}
	{{- if templates.Exists "partials/head-element.html" -}}
		{{- partial "head-element.html" . -}}
	{{- else }}
<head>
{{ partial "head-contents.html" . }}
</head>
	{{- end -}}
{{- end }}
<body{{ with $bodyClass }} class="{{ . }}"{{ end }}>
{{- if not $omitBodyWrapper }}
<div class="body-wrapper{{ with $bodyWrapperClass }} {{ . }}{{ end }}">
{{- end -}}
{{- block "body-header" . }}
	{{- $hidePageHeader := "" -}}
	{{- if isset site.Params "hidepageheader" -}}
		{{- $hidePageHeader = site.Params.headPageHeader -}}
		{{- if isset .Page.Params "hidepageheader" -}}
			{{- $hidePageHeader = .Page.Params.hidePageHeader -}}
		{{- end -}}
	{{- end -}}
	{{- $bodyHeaderClass := "" -}}
	{{- if isset site.Params "bodyheaderclass" -}}
		{{- $bodyHeaderClass = site.Params.bodyHeaderClass -}}
		{{- if isset .Page.Params "bodyheaderclass" -}}
			{{- $bodyHeaderClass = .Page.Params.bodyHeaderClass -}}
		{{- end -}}
	{{- end -}}
	{{- if templates.Exists "partials/header-wrapped.html" -}}
		{{- partialCached "header-wrapped.html" . . -}}
	{{- else }}
		{{- if templates.Exists "partials/header.html" -}}
			{{- if not $hidePageHeader }}
<header class="body-header{{ with $bodyHeaderClass }} {{ . }}{{ end }}">
				{{- partialCached "header" . . }}
</header>
			{{- end -}}
		{{- end -}}
	{{- end -}}
{{- end -}}
{{- block "body-after-header-top" . }}
{{- $bodyAfterHeaderClass := "" -}}
{{- if isset site.Params "bodyafterheaderclass" -}}
	{{- $bodyAfterHeaderClass = site.Params.bodyAfterHeaderClass -}}
	{{- if isset .Page.Params "bodyafterheaderclass" -}}
		{{- $bodyAfterHeaderClass = .Page.Params.bodyAfterHeaderClass -}}
	{{- end -}}
{{- end }}
<div class="body-after-header{{ with $bodyAfterHeaderClass }} {{ . }}{{ end }}">
	<h1>{{- partialCached "page-title.html" . . }}</h1>
{{- end }}
	<div class="main" id="content">
{{- block "main" . }}
{{- end }}
	</div>
{{- block "navigation-below-main" . -}}
	{{- if templates.Exists "partials/page-navigation.html" -}}
		{{- partialCached "page-navigation.html" . . }}
	{{- end }}
{{- end -}}
{{- if templates.Exists "partials/footer.html" -}}
	{{- partialCached "footer" . . }}
{{- end -}}
{{- block "body-after-header-bottom" . }}
</div>
{{- end -}}
{{- if not $omitBodyWrapper }}
</div>
{{- end }}
</body>
</html>
{{- /* Remove trailing newlines */ -}}
